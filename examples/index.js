"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const index_1 = require("../build/index");
class SetStateEvent extends index_1.Event {
    constructor(name, state) {
        super();
        this.name = name;
        this.state = state;
    }
    type() {
        return "com.rbc.offer_platform.events.set_state";
    }
    key() {
        return this.name;
    }
}
exports.SetStateEvent = SetStateEvent;
class SetStateEventSerde {
    constructor(clientId) {
        this.clientId = clientId;
    }
    deserialize(buf) {
        const doc = JSON.parse(buf.toString());
        const metadata = doc.metadata;
        const event = new SetStateEvent(doc.name, doc.state);
        event.metadata = metadata;
        return event;
    }
    serialize(event) {
        return new Buffer(JSON.stringify({
            metadata: event.metadata,
            name: event.name,
            state: event.state,
        }));
    }
}
exports.SetStateEventSerde = SetStateEventSerde;
class OfferCreateEvent extends index_1.Event {
    constructor(id, merchantId, name, copyEnglish, copyFrench) {
        super();
        this.id = id;
        this.merchantId = merchantId;
        this.name = name;
        this.copyEnglish = copyEnglish;
        this.copyFrench = copyFrench;
    }
    type() {
        return "com.rbc.offer_platform.events.create_offer";
    }
    key() {
        return this.id;
    }
}
exports.OfferCreateEvent = OfferCreateEvent;
class OfferCreateEventSerde {
    constructor(clientId) {
        this.clientId = clientId;
    }
    deserialize(buf) {
        const doc = JSON.parse(buf.toString());
        const metadata = doc.metadata;
        const event = new OfferCreateEvent(doc.id, doc.merchantId, doc.name, doc.copyEnglish, doc.copyFrench);
        event.metadata = metadata;
        return event;
    }
    serialize(event) {
        return new Buffer(JSON.stringify({
            copyEnglish: event.copyEnglish,
            copyFrench: event.copyFrench,
            id: event.id,
            merchantId: event.merchantId,
            metadata: event.metadata,
            name: event.name,
        }));
    }
}
exports.OfferCreateEventSerde = OfferCreateEventSerde;
class OfferSetEvent extends index_1.Event {
    constructor(id, merchantId, name, copyEnglish, copyFrench) {
        super();
        this.id = id;
        this.merchantId = merchantId;
        this.name = name;
        this.copyEnglish = copyEnglish;
        this.copyFrench = copyFrench;
    }
    type() {
        return "com.rbc.offer_platform.events.set_offer";
    }
    key() {
        return this.id;
    }
}
exports.OfferSetEvent = OfferSetEvent;
class OfferSetEventtSerde {
    constructor(clientId) {
        this.clientId = clientId;
    }
    deserialize(buf) {
        const doc = JSON.parse(buf.toString());
        const metadata = doc.metadata;
        const event = new OfferSetEvent(doc.id, doc.merchantId, doc.name, doc.copyEnglish, doc.copyFrench);
        event.metadata = metadata;
        return event;
    }
    serialize(event) {
        return new Buffer(JSON.stringify({
            copyEnglish: event.copyEnglish,
            copyFrench: event.copyFrench,
            id: event.id,
            merchantId: event.merchantId,
            metadata: event.metadata,
            name: event.name,
        }));
    }
}
exports.OfferSetEventtSerde = OfferSetEventtSerde;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUFDLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBQ00sU0FBUyxDQUFDLEtBQW9CO1FBQ2pDLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQzdCLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztZQUM5QixVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVU7WUFDNUIsRUFBRSxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQ1osVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtZQUN4QixJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7U0FDbkIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFuQkQsa0RBbUJDIiwiZmlsZSI6ImV4YW1wbGVzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnQsIElFdmVudE1ldGFkYXRhLCBJU2VyZGUgfSBmcm9tIFwiLi4vYnVpbGQvaW5kZXhcIjtcblxuZXhwb3J0IGNsYXNzIFNldFN0YXRlRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHVibGljIHN0YXRlOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIHR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiY29tLnJiYy5vZmZlcl9wbGF0Zm9ybS5ldmVudHMuc2V0X3N0YXRlXCI7XG4gICAgfVxuICAgIHB1YmxpYyBrZXkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZXRTdGF0ZUV2ZW50U2VyZGUgaW1wbGVtZW50cyBJU2VyZGU8U2V0U3RhdGVFdmVudD4ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2xpZW50SWQ6IHN0cmluZykge31cbiAgICBwdWJsaWMgZGVzZXJpYWxpemUoYnVmOiBCdWZmZXIpOiBTZXRTdGF0ZUV2ZW50IHtcbiAgICAgICAgY29uc3QgZG9jID0gSlNPTi5wYXJzZShidWYudG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhOiBJRXZlbnRNZXRhZGF0YSA9IGRvYy5tZXRhZGF0YTtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgU2V0U3RhdGVFdmVudChkb2MubmFtZSwgZG9jLnN0YXRlKTtcbiAgICAgICAgZXZlbnQubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgICBwdWJsaWMgc2VyaWFsaXplKGV2ZW50OiBTZXRTdGF0ZUV2ZW50KTogQnVmZmVyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbWV0YWRhdGE6IGV2ZW50Lm1ldGFkYXRhLFxuICAgICAgICAgICAgbmFtZTogZXZlbnQubmFtZSxcbiAgICAgICAgICAgIHN0YXRlOiBldmVudC5zdGF0ZSxcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9mZmVyQ3JlYXRlRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgY29uc3RydWN0b3IocHVibGljIGlkOiBzdHJpbmcsIHB1YmxpYyBtZXJjaGFudElkOiBzdHJpbmcsIHB1YmxpYyBuYW1lOiBzdHJpbmcsIHB1YmxpYyBjb3B5RW5nbGlzaDogc3RyaW5nLCBwdWJsaWMgY29weUZyZW5jaDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiY29tLnJiYy5vZmZlcl9wbGF0Zm9ybS5ldmVudHMuY3JlYXRlX29mZmVyXCI7XG4gICAgfVxuXG4gICAgcHVibGljIGtleSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPZmZlckNyZWF0ZUV2ZW50U2VyZGUgaW1wbGVtZW50cyBJU2VyZGU8T2ZmZXJDcmVhdGVFdmVudD4ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2xpZW50SWQ6IHN0cmluZykge31cbiAgICBwdWJsaWMgZGVzZXJpYWxpemUoYnVmOiBCdWZmZXIpOiBPZmZlckNyZWF0ZUV2ZW50IHtcbiAgICAgICAgY29uc3QgZG9jID0gSlNPTi5wYXJzZShidWYudG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhOiBJRXZlbnRNZXRhZGF0YSA9IGRvYy5tZXRhZGF0YTtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgT2ZmZXJDcmVhdGVFdmVudChkb2MuaWQsIGRvYy5tZXJjaGFudElkLCBkb2MubmFtZSwgZG9jLmNvcHlFbmdsaXNoLCBkb2MuY29weUZyZW5jaCk7XG4gICAgICAgIGV2ZW50Lm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG4gICAgcHVibGljIHNlcmlhbGl6ZShldmVudDogT2ZmZXJDcmVhdGVFdmVudCk6IEJ1ZmZlciB7XG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNvcHlFbmdsaXNoOiBldmVudC5jb3B5RW5nbGlzaCxcbiAgICAgICAgICAgIGNvcHlGcmVuY2g6IGV2ZW50LmNvcHlGcmVuY2gsXG4gICAgICAgICAgICBpZDogZXZlbnQuaWQsXG4gICAgICAgICAgICBtZXJjaGFudElkOiBldmVudC5tZXJjaGFudElkLFxuICAgICAgICAgICAgbWV0YWRhdGE6IGV2ZW50Lm1ldGFkYXRhLFxuICAgICAgICAgICAgbmFtZTogZXZlbnQubmFtZSxcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9mZmVyU2V0RXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgY29uc3RydWN0b3IocHVibGljIGlkOiBzdHJpbmcsIHB1YmxpYyBtZXJjaGFudElkOiBzdHJpbmcsIHB1YmxpYyBuYW1lOiBzdHJpbmcsIHB1YmxpYyBjb3B5RW5nbGlzaDogc3RyaW5nLCBwdWJsaWMgY29weUZyZW5jaDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiY29tLnJiYy5vZmZlcl9wbGF0Zm9ybS5ldmVudHMuc2V0X29mZmVyXCI7XG4gICAgfVxuXG4gICAgcHVibGljIGtleSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPZmZlclNldEV2ZW50dFNlcmRlIGltcGxlbWVudHMgSVNlcmRlPE9mZmVyU2V0RXZlbnQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNsaWVudElkOiBzdHJpbmcpIHt9XG4gICAgcHVibGljIGRlc2VyaWFsaXplKGJ1ZjogQnVmZmVyKTogT2ZmZXJTZXRFdmVudCB7XG4gICAgICAgIGNvbnN0IGRvYyA9IEpTT04ucGFyc2UoYnVmLnRvU3RyaW5nKCkpO1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogSUV2ZW50TWV0YWRhdGEgPSBkb2MubWV0YWRhdGE7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IE9mZmVyU2V0RXZlbnQoZG9jLmlkLCBkb2MubWVyY2hhbnRJZCwgZG9jLm5hbWUsIGRvYy5jb3B5RW5nbGlzaCwgZG9jLmNvcHlGcmVuY2gpO1xuICAgICAgICBldmVudC5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxuICAgIHB1YmxpYyBzZXJpYWxpemUoZXZlbnQ6IE9mZmVyU2V0RXZlbnQpOiBCdWZmZXIge1xuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjb3B5RW5nbGlzaDogZXZlbnQuY29weUVuZ2xpc2gsXG4gICAgICAgICAgICBjb3B5RnJlbmNoOiBldmVudC5jb3B5RnJlbmNoLFxuICAgICAgICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgICAgICAgbWVyY2hhbnRJZDogZXZlbnQubWVyY2hhbnRJZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBldmVudC5tZXRhZGF0YSxcbiAgICAgICAgICAgIG5hbWU6IGV2ZW50Lm5hbWUsXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4iXX0=
